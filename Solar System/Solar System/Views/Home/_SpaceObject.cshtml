@using System.Globalization
@using AutoMapper
@using Microsoft.Ajax.Utilities
@using Model.Models
@using Solar_System.Models
@model SpaceObjectViewModel

@{
    var sizeClass = String.Empty;
    switch (Model.Size)
    {
        case SizeType.Small:
            sizeClass = "small";
            break;
        case SizeType.Medium:
            sizeClass = "medium";
            break;
        case SizeType.Large:
            sizeClass = "large";
            break;
    }

    var objectTypeClass = String.Empty;
    switch (Model.Type)
    {
        case SpaceObjectType.Moon:
            objectTypeClass = "satellite";
            break;
        case SpaceObjectType.Planet:
            objectTypeClass = "planet";
            break;
    }
}

@if (!Model.IsCenter)
{
    <div class="@objectTypeClass">

        @Html.Partial("_Orbit", Model.Orbit)

        <div class="space-object @sizeClass" id="@Model.Name.ToLower()"
             style="height:@String.Format("{0}px", Model.Radius.ToString(CultureInfo.InvariantCulture));width: @String.Format("{0}px", Model.Radius.ToString(CultureInfo.InvariantCulture))"
             data-period="@Model.OrbitalPeriod" 
             data-is-retro="@Model.IsRetrograde" 
             data-perihelion="@Model.Orbit.Perihelion" 
             data-aphelion="@Model.Orbit.Aphelion" 
             data-eccentricity="@Model.Orbit.Eccentricity"
             data-semi-minor="@Model.Orbit.SemiMinorAxis" 
             data-semi-major="@Model.Orbit.SemiMajorAxis">
        </div>

        @if (Model.Satellites != null && Model.Satellites.Any())
        {
            foreach (var moon in Model.Satellites)
            {
                @Html.Partial("_SpaceObject", Mapper.Map<SpaceObject, SpaceObjectViewModel>(moon))
            }
        }
    </div>
}
else if (Model.IsCenter && Model.Type.Equals(SpaceObjectType.Star))
{
    <div class="space-object star @sizeClass" id="@Model.Name.ToLower()"></div>
}